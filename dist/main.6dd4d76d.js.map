{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","onbeforeunload","string","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAACC,CAAC,CAAC,WAAD,CAAjB;AACA,IAAMC,OAAO,GAAGF,SAAS,CAACG,IAAV,WAAhB;AACA,IAAMC,CAAC,GAACC,YAAY,CAACC,OAAb,CAAqB,GAArB,CAAR;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,CAAX,CAAhB;AACA,IAAMM,OAAO,GAACH,OAAO,IAAI,CACrB;AAACI,EAAAA,IAAI,EAAC,GAAN;AAAUC,EAAAA,GAAG,EAAC;AAAd,CADqB,EAErB;AAACD,EAAAA,IAAI,EAAC,GAAN;AAAUC,EAAAA,GAAG,EAAC;AAAd,CAFqB,CAAzB;AAGI;;AACJ,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,GAAD,EAAO;AACvB,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAuB,EAAvB,EACMA,OADN,CACc,SADd,EACwB,EADxB,EAEMA,OAFN,CAEc,MAFd,EAEqB,EAFrB,EAGMA,OAHN,CAGc,MAHd,EAGqB,EAHrB,CAAP,CADuB,CAIU;AACpC,CALD;;AAQA,IAAMC,MAAM,GAAC,SAAPA,MAAO,GAAI;AACbf,EAAAA,SAAS,CAACG,IAAV,CAAe,eAAf,EAAgCa,MAAhC,GADa,CAC6B;;AAC1CN,EAAAA,OAAO,CAACO,OAAR,CAAgB,UAACC,IAAD,EAAMC,KAAN,EAAc;AAC9B,QAAMC,GAAG,GAACnB,CAAC,+EAEeiB,IAAI,CAACP,IAFpB,mDAGeE,WAAW,CAACK,IAAI,CAACN,GAAN,CAH1B,4MAAD,CAUFS,YAVE,CAUWnB,OAVX,CAAV;AAWAkB,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAe,YAAI;AAACC,MAAAA,MAAM,CAACC,IAAP,CAAYN,IAAI,CAACN,GAAjB;AAAsB,KAA1C,EAZ8B,CAYc;;AAC5CQ,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AAAE;AAC3BA,MAAAA,CAAC,CAACC,eAAF,GADyB,CACA;;AACzBhB,MAAAA,OAAO,CAACiB,MAAR,CAAeR,KAAf,EAAqB,CAArB,EAFyB,CAEA;;AACzBJ,MAAAA,MAAM;AACT,KAJD;AAKH,GAlBG;AAoBH,CAtBD;;AAwBAA,MAAM;AACNd,CAAC,CAAC,YAAD,CAAD,CAAgB;AAAhB,CACKqB,EADL,CACQ,OADR,EACgB,YAAI;AACZ,MAAIV,GAAG,GAACW,MAAM,CAACK,MAAP,oDAAR;;AACA,MAAGhB,GAAG,CAACiB,OAAJ,CAAY,MAAZ,MAAsB,CAAzB,EAA2B;AACvBjB,IAAAA,GAAG,GAAC,aAAWA,GAAf;AAA2B;;AAC/BF,EAAAA,OAAO,CAACoB,IAAR,CAAa;AACTnB,IAAAA,IAAI,EAACE,WAAW,CAACD,GAAD,CAAX,CAAiB,CAAjB,CADI;AAETA,IAAAA,GAAG,EAACA;AAFK,GAAb;AAIAG,EAAAA,MAAM;AACT,CAVL;;AAWAQ,MAAM,CAACQ,cAAP,GAAsB,YAAI;AACtB,MAAMC,MAAM,GAAGxB,IAAI,CAACyB,SAAL,CAAevB,OAAf,CAAf;AACAa,EAAAA,MAAM,CAAClB,YAAP,CAAoB6B,OAApB,CAA4B,GAA5B,EAAgCF,MAAhC,EAFsB,CAGrB;AACJ,CAJD","file":"main.6dd4d76d.js","sourceRoot":"..\\src","sourcesContent":["const $siteList=$('.siteList')\r\nconst $lastLi = $siteList.find(`li.last`)\r\nconst x=localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap=xObject || [\r\n    {logo:'A',url:'https://www.acfun.cn/'},\r\n    {logo:'B',url:'https://www.bilibili.com/'}, \r\n]   /*创建哈希表保存数据，但是这样不需要在一开始在HTML里设计 A 和 B 站点了 */\r\nconst simplifyUrl = (url)=>{\r\n    return url.replace('https://','')\r\n                .replace('http://','')\r\n                .replace('www.','')\r\n                .replace(/\\/.*/,'')  //删除 / 开头的内容\r\n}\r\n\r\n\r\nconst render=()=>{\r\n    $siteList.find('li:not(.last)').remove()  //先清空除了新增的 li 再遍历\r\n    hashMap.forEach((node,index)=>{         \r\n    const $li=$(`<li>\r\n          <div class=\"site\">\r\n          <div class=\"logo\">${node.logo}</div>\r\n          <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n          <div class=\"close\">\r\n            <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-close\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>    \r\n    </li>`).insertBefore($lastLi)\r\n    $li.on('click',()=>{window.open(node.url)}) //window.open —— 打开新窗口\r\n    $li.on('click','.close',(e)=>{ //删除功能\r\n        e.stopPropagation()      //阻止冒泡\r\n        hashMap.splice(index,1)  //删除下标的东西\r\n        render()                \r\n    })\r\n})\r\n\r\n}\r\n\r\nrender()\r\n$('.addButton') //监听新增网站的按钮\r\n    .on('click',()=>{\r\n        let url=window.prompt(`请输入您的网址？`) \r\n        if(url.indexOf('http')!==0){           \r\n            url='https://'+url        }\r\n        hashMap.push({\r\n            logo:simplifyUrl(url)[0],  \r\n            url:url\r\n        });\r\n        render()\r\n    });\r\nwindow.onbeforeunload=()=>{\r\n    const string = JSON.stringify(hashMap)\r\n    window.localStorage.setItem('x',string) \r\n     //本地储存设置一个叫 n 的值，值就是string（hashMap的字符串）\r\n}\r\n\r\n    "]}